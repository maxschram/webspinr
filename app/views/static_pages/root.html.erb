<!DOCTYPE html>
<html>
<head>
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<!-- Bootstrap -->
	<link href="//netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css" rel="stylesheet">
	<link href="//netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.css" rel="stylesheet" />

	<link href="http://fonts.googleapis.com/css?family=Abel|Open+Sans:400,600" rel="stylesheet" />

	<style>

		html {
			background: url(https://images.unsplash.com/photo-1433785124354-92116416b870?q=80&fm=jpg&s=38f06298f26c11c59024eabf3b0be3bb) no-repeat center center fixed;
			-webkit-background-size: cover;
			-moz-background-size: cover;
			-o-background-size: cover;
			background-size: cover;
		}

		body {
			padding-top: 20px;
			font-size: 16px;
			font-family: "Open Sans",serif;
			background: transparent;
		}

		h1 {
			font-family: "Abel", Arial, sans-serif;
			font-weight: 400;
			font-size: 40px;
		}

		/* Override B3 .panel adding a subtly transparent background */
		.panel {
			background-color: rgba(255, 255, 255, 0.9);
		}

		.margin-base-vertical {
			margin: 40px 0;
		}

	</style>

</head>
<body>

	<div class="container landing-container">
		<div class="row">
			<div class="landing-panel col-md-6 col-md-offset-3 panel panel-default">
				<div class="tabs">
					<ul class="nav nav-tabs">

						<li class="active login">
							<a class="tab" href="#" data-toggle="tab">Sign In</a>
						</li>
						<li class="new-account">
							<a class="tab" href="#" data-toggle="tab">Register</a>
						</li>
					</ul>
				</div>

				<h1 class="margin-base-vertical">Welcome to Webspinr</h1>
				<p>
					Webspinr is an easy to use, drag-and-drop website builder.
				</p>
				<p>
					We'll even host your site for you, so you can show off your work in progress.
					When you're finished, feel free to download the pages you created and celebrate
				</p>
        <div class="errors">
					<% if flash[:errors] %>
					  <% flash[:errors].each do |error| %>
					    <div class="alert alert-danger" role="alert">
					      <%= error %>
					    </div>
					  <% end %>
					<% end %>
        </div>

				<form class="login-form margin-base-vertical" action="<%= login_url %>" method="post">
          <%= auth_token %>
					<p class="input-group">
						<span class="input-group-addon"></span></span>
						<input type="text" id="email" class="form-control input-lg" name="user[email]" placeholder="E-mail address" />
					</p>
          <p class="input-group">
            <span class="input-group-addon"></span>
            <input type="password" id="password" class="form-control input-lg" name="user[password]" placeholder="Password" />
          </p>
						<button type="submit" class="submit btn btn-success btn-lg">Login</button>
            <button class="guest-login btn btn-primary btn-lg">Guest Login</button>
					</span>
				</form>
			</div><!-- //main content -->
		</div><!-- //row -->
	</div> <!-- //container -->

  <script>
    $(document).ready(function () {
      $(".guest-login").on("click", function (e) {
        e.preventDefault();
        $(e.currentTarget).blur();
        $("#email").val("guest");
        $("#password").val("password");
        $(".errors").empty();
        $(".login-form").submit();
      });

      $(".new-account").on("click", function (e) {
        e.preventDefault();
        $(e.currentTarget).blur();
        $(".submit").html("Sign Up");
        $(".errors").empty();
        $("form").attr("action", "signup");
				$(".guest-login").css("display", "none");
      });

      $(".login").on("click", function (e) {
        e.preventDefault();
        $(e.currentTarget).blur();
        $(".errors").empty();
        $(".submit").html("Login");
				$(".guest-login").css("display", "inline-block");
        $("form").attr("action", "login");
      });
    });
  </script>

</body>
</html>
